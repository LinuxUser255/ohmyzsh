# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Skip the check for insecure directories (speeds up compinit)
ZSH_DISABLE_COMPFIX="true"

# Set theme
ZSH_THEME="robbyrussell"

# Update configuration (disabled for faster startup)
zstyle ':omz:update' mode disabled

# Enable async git prompt for better performance
zstyle ':omz:alpha:lib:git' async-prompt yes

# Update frequency (in days) - only matters if updates are enabled
zstyle ':omz:update' frequency 10

# Enable command auto-correction
ENABLE_CORRECTION="true"

# Completion waiting dots
COMPLETION_WAITING_DOTS="true"

# Plugins to load
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
plugins=(git alias-finder zsh-syntax-highlighting)

# Load Oh-My-Zsh
source $ZSH/oh-my-zsh.sh

# ═══════════════════════════════════════════════════════════
#  User Configuration
# ═══════════════════════════════════════════════════════════

# Language environment
export LANG=en_US.UTF-8

# Preferred editor
if [[ -n $SSH_CONNECTION ]]; then
    export EDITOR='vim'
else
    export EDITOR='nvim'
fi

# ═══════════════════════════════════════════════════════════
#  Completion Settings (configured after oh-my-zsh loads)
# ═══════════════════════════════════════════════════════════

zstyle ':completion:*:*:*:*:*' menu select
zstyle ':completion:*' auto-description 'specify: %d'
zstyle ':completion:*' completer _expand _complete
zstyle ':completion:*' format 'Completing %d'
zstyle ':completion:*' group-name ''
zstyle ':completion:*' list-colors ''
zstyle ':completion:*' list-prompt %SAt %p: Hit TAB for more, or the character to insert%s
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'
zstyle ':completion:*' rehash true
zstyle ':completion:*' select-prompt %SScrolling active: current selection at %p%s
zstyle ':completion:*' use-compctl false
zstyle ':completion:*' verbose true
zstyle ':completion:*:kill:*' command 'ps -u $USER -o pid,%cpu,tty,cputime,cmd'

# ═══════════════════════════════════════════════════════════
#  Auto-recompile .zshrc if modified (keeps performance optimal)
# ═══════════════════════════════════════════════════════════

if [[ ~/.zshrc -nt ~/.zshrc.zwc ]] || [[ ! -f ~/.zshrc.zwc ]]; then
    zcompile ~/.zshrc
fi

# ═══════════════════════════════════════════════════════════
#  Personal Aliases and Custom Configuration
# ═══════════════════════════════════════════════════════════

# Alacritty configuration note
# ULMIT -n 8192
# Prevent this Alacritty error:
# [ERROR] see log at /tmp/Alacritty-304237.log ($ALACRITTY_LOG):
# Unable to watch config file: Too many open files (os error 24)
# ulimit -n 8192
# I am now using a configuration in alacritty.toml to handle this issue
# live_config_reload = false

alias ff='fastfetch'

# User configuration
export ZSH_2000_DISABLE_RVM='true'

#---Personal aliases---#
# Listing Directories
alias l='ls'
alias ll='ls -l'
alias LL='ls -l'
alias LLA='ls -la'
alias lla='ls -la'
alias lll='rg_files'
alias ppp='pwsearch'

# List only the Directory names in bold red font
alias lsdir='ls -l | awk "{print \"\\033[1;31m\" \$9 \"\\033[0m\"}"'

# Listing files and directories
alias lsfiles='ls -l | awk "{for (i=9; i<=NF; i++) printf \"%s\", \$i (i==NF ? \"\\n\" : \" \")}"'
alias late='ls -lt | head -n 10' # displays the most recent file added or edited in a directory.

# Text editors
alias v='vim'
alias n='nvim'
alias nn='nvim .' # netrw
alias k='kate'

# Customs ops & cmds
alias s='sudo su'
alias e='exit'
alias q='exit'
alias rr='ranger'
alias c='cat'
alias b='batcat'
alias p='pass'
alias pa='pass add'
alias up='sudo apt update'
alias upup='sudo apt update && sudo apt upgrade'
alias inst='sudo apt install'
alias ifconfig='sudo ifconfig'
alias iwconfig='sudo iwconfig'
alias shut='sudo shutdown -P now'
alias png='ping 1.1.1.1'
alias shutdown='sudo shutdown -P now'
alias reboot='sudo reboot'
alias wifidown='ifconfig wlp4s0 down'
alias a='alacritty msg create-window'
alias yt='yt-dlp '
alias yta='yt-dlp --extract-audio --audio-format mp3 '
alias space='space'  # Double spaces lines of a text file.
alias remap='remap'   # Remaps caps lock to the escape key.

# Changing into the standard directories
alias down='cd ~/Downloads'
alias doc='cd ~/Documents'
alias pic='cd ~/Pictures'
alias music='cd ~/Music'
alias mus='cd ~/Music/Genres'
alias vid='cd ~/Videos'
alias opt='cd /opt'

# REPOS & Projects
#-----------------------------------------------------------------------------#

alias hardn='cd ~/Projects/LinuxThings/Hardn-Project'
alias linuxsecure='cd ~/Projects/OS-Hardn/NewRepo/LinuxSecure'

# Changing into various projects
alias proj='cd ~/Projects'
alias temp='cd ~/Templates'
alias projects='cd ~/Projects'
alias rand='cd ~/Documents/random/'
alias res='~/Documents/Resumes/Latex/2025/'
alias linkedinbot='cd ~/Projects/Bots/LinkedIn_Bots/LinkedIn_Apply'

# StratumSec job interview project
alias stratum='cd ~/Projects/StratumSec'

alias keymaps='nvim ~/Projects/Neovim/nvim-keymaps-tutor.md'
alias todo='cd ~/Documents/ToDos'
alias bsuite='cat ~/Documents/BSuitestuff/bsuite.txt'
alias gpt='nvim ~/Documents/random/gptchat/questions.txt'
alias emails='nvim ~/Documents/random/email-compose.txt'
alias hacking='cd ~/Projects/Hacking/'
alias apivids='cd ~/Downloads/old-downloads/Backups/ExternalHD-2TB/Crucial2TB/Tutorials'
alias tutor='cd ~/Downloads/old-downloads/Backups/ExternalHD-2TB/Crucial2TB/'
alias bots='cd ~/Projects/Bots'
alias nix='cd ~/Projects/LinuxThings'
alias privaterepos='cd ~/Projects/LinuxThings/MyRepos-GitHub/PrivateRepos'
alias mysterylabs='cd ~/Projects/WebAcademy-MysteryLabs'

alias bsides='cd ~/Documents/BsidesTriad'
alias linuxthings='cd ~/Projects/LinuxThings/'
alias boot.dev='cd ~/Projects/BootDev'
alias shellscripting='cd ~/Projects/LinuxThings/ShellScripting'

# Rust programming
alias learnrust='cd ~/Projects/RustProjects/LearnRust'
alias rustbasics='cd ~/Projects/RustProjects/LearnRust/rust-basics'
alias ruststuff='cd ~/Projects/RustProjects'

# Python programming
alias pythonstuff='cd ~/Projects/Python'
alias careerist='cd ~/Projects/Careerist'

# dot file access
alias vb='vim ~/.bashrc'
alias vv="vim ~/.vimrc"
alias rc='nvim ~/.zshrc'
alias config='cd ~/.config'
alias bb='bat ~/.zshrc'
alias ohmyzsh="cd ~/.oh-my-zsh"
alias nvconf="cd ~/.config/nvim"
alias alconf="nvim ~/.config/alacritty/alacritty.toml"
alias vimplay='cd ~/Projects/Primeagen/VimMotionsTraining'
alias gitstuff='cd ~/Projects/GitStuff'
alias prime='cd ~/Projects/Primeagen'
alias alacconf='cd ~/.config/alacritty'

# ═══════════════════════════════════════════════════════════
#  PATH and Environment Variables
# ═══════════════════════════════════════════════════════════

# SOURCED software added to $PATH
# ----------------------------------------------------------------------------
# PATH="$HOME/graudit:${PATH:+:${PATH}}"; export PATH;
# export GRDIR=/path/to/graudit/signatures
# source /lfbundle/lfbundle.zshrc
# fpath+=${ZDOTDIR:-~}/.zsh_functions

# ruff-lsp
export PATH="$HOME/.local/bin:$PATH"

# tree sitter cli thing
export PATH=$PATH:./node_modules/.bin

# pip to path
export PATH=$PATH:/home/linux/.local/bin

# Go Lang  Env to path
export GOPATH=$HOME/go
export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin

# NVM (Node Version Manager) - Commented out for faster startup
# Uncomment if you need nvm, or better yet, lazy-load it:
#export NVM_DIR="$HOME/.nvm"
#[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
#[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"

# For faster startup with nvm, use lazy loading:
# zsh-defer source "$NVM_DIR/nvm.sh"

# FZF integration (uncomment if needed)
#[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
